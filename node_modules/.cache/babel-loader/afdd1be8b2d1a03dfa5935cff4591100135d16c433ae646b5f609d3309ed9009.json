{"ast":null,"code":"import { allLogLevels, BaseInstrumentation, LogLevel, VERSION } from '@grafana/faro-core';\nexport class ConsoleInstrumentation extends BaseInstrumentation {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    this.options = options;\n    this.name = '@grafana/faro-web-sdk:instrumentation-console';\n    this.version = VERSION;\n  }\n  initialize() {\n    var _this = this;\n    this.logDebug('Initializing\\n', this.options);\n    allLogLevels.filter(level => {\n      var _a;\n      return !((_a = this.options.disabledLevels) !== null && _a !== void 0 ? _a : ConsoleInstrumentation.defaultDisabledLevels).includes(level);\n    }).forEach(level => {\n      /* eslint-disable-next-line no-console */\n      console[level] = function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        try {\n          _this.api.pushLog(args, {\n            level\n          });\n        } catch (err) {\n          _this.logError(err);\n        } finally {\n          _this.unpatchedConsole[level](...args);\n        }\n      };\n    });\n  }\n}\nConsoleInstrumentation.defaultDisabledLevels = [LogLevel.DEBUG, LogLevel.TRACE, LogLevel.LOG];","map":{"version":3,"names":["allLogLevels","BaseInstrumentation","LogLevel","VERSION","ConsoleInstrumentation","constructor","options","arguments","length","undefined","name","version","initialize","_this","logDebug","filter","level","_a","disabledLevels","defaultDisabledLevels","includes","forEach","console","_len","args","Array","_key","api","pushLog","err","logError","unpatchedConsole","DEBUG","TRACE","LOG"],"sources":["/home/egor/node_modules/@grafana/faro-web-sdk/src/instrumentations/console/instrumentation.ts"],"sourcesContent":["import { allLogLevels, BaseInstrumentation, LogLevel, VERSION } from '@grafana/faro-core';\n\nimport type { ConsoleInstrumentationOptions } from './types';\n\nexport class ConsoleInstrumentation extends BaseInstrumentation {\n  readonly name = '@grafana/faro-web-sdk:instrumentation-console';\n  readonly version = VERSION;\n\n  static defaultDisabledLevels: LogLevel[] = [LogLevel.DEBUG, LogLevel.TRACE, LogLevel.LOG];\n\n  constructor(private options: ConsoleInstrumentationOptions = {}) {\n    super();\n  }\n\n  initialize() {\n    this.logDebug('Initializing\\n', this.options);\n\n    allLogLevels\n      .filter((level) => !(this.options.disabledLevels ?? ConsoleInstrumentation.defaultDisabledLevels).includes(level))\n      .forEach((level) => {\n        /* eslint-disable-next-line no-console */\n        console[level] = (...args) => {\n          try {\n            this.api.pushLog(args, { level });\n          } catch (err) {\n            this.logError(err);\n          } finally {\n            this.unpatchedConsole[level](...args);\n          }\n        };\n      });\n  }\n}\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,mBAAmB,EAAEC,QAAQ,EAAEC,OAAO,QAAQ,oBAAoB;AAIzF,OAAM,MAAOC,sBAAuB,SAAQH,mBAAmB;EAM7DI,YAAA,EAA+D;IAAA,IAA3CC,OAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAyC,EAAE;IAC7D,KAAK,EAAE;IADW,KAAAD,OAAO,GAAPA,OAAO;IALlB,KAAAI,IAAI,GAAG,+CAA+C;IACtD,KAAAC,OAAO,GAAGR,OAAO;EAM1B;EAEAS,UAAUA,CAAA;IAAA,IAAAC,KAAA;IACR,IAAI,CAACC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAACR,OAAO,CAAC;IAE7CN,YAAY,CACTe,MAAM,CAAEC,KAAK,IAAI;MAAA,IAAAC,EAAA;MAAC,QAAC,CAAC,CAAAA,EAAA,OAAI,CAACX,OAAO,CAACY,cAAc,cAAAD,EAAA,cAAAA,EAAA,GAAIb,sBAAsB,CAACe,qBAAqB,EAAEC,QAAQ,CAACJ,KAAK,CAAC;IAAA,EAAC,CACjHK,OAAO,CAAEL,KAAK,IAAI;MACjB;MACAM,OAAO,CAACN,KAAK,CAAC,GAAG,YAAY;QAAA,SAAAO,IAAA,GAAAhB,SAAA,CAAAC,MAAA,EAARgB,IAAI,OAAAC,KAAA,CAAAF,IAAA,GAAAG,IAAA,MAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA;UAAJF,IAAI,CAAAE,IAAA,IAAAnB,SAAA,CAAAmB,IAAA;QAAA;QACvB,IAAI;UACFb,KAAI,CAACc,GAAG,CAACC,OAAO,CAACJ,IAAI,EAAE;YAAER;UAAK,CAAE,CAAC;SAClC,CAAC,OAAOa,GAAG,EAAE;UACZhB,KAAI,CAACiB,QAAQ,CAACD,GAAG,CAAC;SACnB,SAAS;UACRhB,KAAI,CAACkB,gBAAgB,CAACf,KAAK,CAAC,CAAC,GAAGQ,IAAI,CAAC;;MAEzC,CAAC;IACH,CAAC,CAAC;EACN;;AAvBOpB,sBAAA,CAAAe,qBAAqB,GAAe,CAACjB,QAAQ,CAAC8B,KAAK,EAAE9B,QAAQ,CAAC+B,KAAK,EAAE/B,QAAQ,CAACgC,GAAG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}