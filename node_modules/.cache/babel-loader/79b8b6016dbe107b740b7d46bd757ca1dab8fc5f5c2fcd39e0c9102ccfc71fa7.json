{"ast":null,"code":"import { VERSION } from '../version';\nexport function registerInitialMetas(faro) {\n  var _a, _b;\n  const initial = {\n    sdk: {\n      version: VERSION\n    }\n  };\n  const session = (_a = faro.config.sessionTracking) === null || _a === void 0 ? void 0 : _a.session;\n  if (session) {\n    faro.api.setSession(session);\n  }\n  if (faro.config.app) {\n    initial.app = faro.config.app;\n  }\n  if (faro.config.user) {\n    initial.user = faro.config.user;\n  }\n  if (faro.config.view) {\n    initial.view = faro.config.view;\n  }\n  faro.metas.add(initial, ...((_b = faro.config.metas) !== null && _b !== void 0 ? _b : []));\n}","map":{"version":3,"names":["VERSION","registerInitialMetas","faro","initial","sdk","version","session","_a","config","sessionTracking","api","setSession","app","user","view","metas","add","_b"],"sources":["/home/egor/node_modules/@grafana/faro-core/src/metas/registerInitial.ts"],"sourcesContent":["import type { Faro } from '../sdk';\nimport { VERSION } from '../version';\n\nimport type { Meta } from './types';\n\nexport function registerInitialMetas(faro: Faro): void {\n  const initial: Meta = {\n    sdk: {\n      version: VERSION,\n    },\n  };\n\n  const session = faro.config.sessionTracking?.session;\n  if (session) {\n    faro.api.setSession(session);\n  }\n\n  if (faro.config.app) {\n    initial.app = faro.config.app;\n  }\n\n  if (faro.config.user) {\n    initial.user = faro.config.user;\n  }\n\n  if (faro.config.view) {\n    initial.view = faro.config.view;\n  }\n\n  faro.metas.add(initial, ...(faro.config.metas ?? []));\n}\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,YAAY;AAIpC,OAAM,SAAUC,oBAAoBA,CAACC,IAAU;;EAC7C,MAAMC,OAAO,GAAS;IACpBC,GAAG,EAAE;MACHC,OAAO,EAAEL;;GAEZ;EAED,MAAMM,OAAO,GAAG,CAAAC,EAAA,GAAAL,IAAI,CAACM,MAAM,CAACC,eAAe,cAAAF,EAAA,uBAAAA,EAAA,CAAED,OAAO;EACpD,IAAIA,OAAO,EAAE;IACXJ,IAAI,CAACQ,GAAG,CAACC,UAAU,CAACL,OAAO,CAAC;;EAG9B,IAAIJ,IAAI,CAACM,MAAM,CAACI,GAAG,EAAE;IACnBT,OAAO,CAACS,GAAG,GAAGV,IAAI,CAACM,MAAM,CAACI,GAAG;;EAG/B,IAAIV,IAAI,CAACM,MAAM,CAACK,IAAI,EAAE;IACpBV,OAAO,CAACU,IAAI,GAAGX,IAAI,CAACM,MAAM,CAACK,IAAI;;EAGjC,IAAIX,IAAI,CAACM,MAAM,CAACM,IAAI,EAAE;IACpBX,OAAO,CAACW,IAAI,GAAGZ,IAAI,CAACM,MAAM,CAACM,IAAI;;EAGjCZ,IAAI,CAACa,KAAK,CAACC,GAAG,CAACb,OAAO,EAAE,IAAI,CAAAc,EAAA,GAAAf,IAAI,CAACM,MAAM,CAACO,KAAK,cAAAE,EAAA,cAAAA,EAAA,GAAI,EAAE,CAAC,CAAC;AACvD"},"metadata":{},"sourceType":"module","externalDependencies":[]}