{"ast":null,"code":"var _jsxFileName = \"/home/egor/outstaff-web/src/stripe.js\";\nimport React from 'react';\nimport Meeting from './meeting.js';\nimport './stripe.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Stripe extends React.Component {\n  constructor(props) {\n    super(props);\n    this.colors = ['#17ccf9', '#3dc5f7', '#53bdf5', '#73acf1', '#a185e9', '#be61af', '#d82354', '#d02867', '#c72d77', '#a94092'];\n    let meetings_z_index = [];\n    for (let i = 0; i < props.data.meetings.length; i++) {\n      meetings_z_index[i] = 1 + i;\n    }\n    this.state = {\n      data: this.props.data,\n      meetings_z_index: meetings_z_index,\n      stripe_width: 1,\n      stripe_height: 1,\n      adding_new_meeting: false,\n      block_adding_new_meetings: false\n    };\n    this.onClickCallback = this.onClickCallback.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n    this.ref = /*#__PURE__*/React.createRef();\n  }\n  componentDidMount() {\n    this.setState({\n      stripe_width: this.ref.current.getBoundingClientRect().width,\n      stripe_height: this.ref.current.getBoundingClientRect().height,\n      top: this.ref.current.getBoundingClientRect().y\n    });\n  }\n  onClickCallback(index, need_desc) {\n    if (need_desc) {\n      this.setState({\n        block_adding_new_meetings: true\n      });\n      let new_mzi = this.state.meetings_z_index;\n      let prev = new_mzi[index];\n      for (let i = 0; i < new_mzi.length; i++) {\n        if (i === index) {\n          new_mzi[i] = 1;\n          continue;\n        }\n        if (new_mzi[i] < prev) {\n          new_mzi[i]++;\n        }\n      }\n      this.setState({\n        meetings_z_index: new_mzi\n      });\n    } else {\n      this.setState({\n        block_adding_new_meetings: false\n      });\n    }\n  }\n  renderMeetings() {\n    let result = [];\n    let index = 0;\n    this.state.data.meetings.forEach(meeting => {\n      result.push( /*#__PURE__*/_jsxDEV(Meeting, {\n        meeting: meeting,\n        id: index,\n        z_index: this.state.meetings_z_index[index],\n        color: this.colors[index % this.colors.length],\n        onClickCallback: this.onClickCallback,\n        is_horizontal: this.props.is_horizontal,\n        stripe_width: this.state.stripe_width,\n        stripe_height: this.state.stripe_height,\n        top: this.state.top\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this));\n      index++;\n    });\n    return result;\n  }\n  renderNewMeeting() {\n    if (!this.state.adding_new_meeting) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this);\n    }\n    let width = this.state.end_x - this.state.start_x;\n    let height = this.state.end_y - this.state.start_y;\n    let style = {\n      left: this.state.start_x.toString() + 'px',\n      top: this.state.start_y.toString() + 'px',\n      width: width.toString() + 'px',\n      height: height.toString() + 'px'\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rcs-stripe-new-meeting\",\n      style: style\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this);\n  }\n  renderSpacers() {\n    let result = [];\n    let delta = this.state.stripe_width / 24;\n    if (!this.props.is_horizontal) {\n      delta = this.state.stripe_height / 24;\n    }\n    for (let i = 1; i < 24; i++) {\n      let width, height;\n      if (this.props.is_horizontal) {\n        width = 2;\n        height = this.state.stripe_height;\n      } else {\n        width = this.state.stripe_width;\n        height = 2;\n      }\n      let style = {\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n      if (this.props.is_horizontal) {\n        style.left = delta * i;\n      } else {\n        style.top = this.state.top + delta * i;\n      }\n      result.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rcs-stripe-spacer\",\n        style: style\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this));\n    }\n    return result;\n  }\n  async handleMouseDown(event) {\n    if (this.state.block_adding_new_meetings || this.props.readonly) {\n      return;\n    }\n    let start_x;\n    let start_y;\n    let end_x;\n    let end_y;\n    if (this.props.is_horizontal) {\n      start_x = Math.round(Math.floor(event.clientX / this.state.stripe_width * 48) / 48 * this.state.stripe_width) - this.ref.current.getBoundingClientRect().x - 5;\n      start_y = event.target.offsetTop;\n      end_x = start_x;\n      end_y = this.state.stripe_height + event.target.offsetTop;\n    } else {\n      start_x = event.target.offsetLeft;\n      start_y = Math.round(Math.floor(event.clientY / this.state.stripe_height * 48) / 48 * this.state.stripe_height);\n      end_x = this.state.stripe_width + event.target.offsetLeft;\n      end_y = start_y;\n    }\n    await this.setState({\n      adding_new_meeting: true,\n      start_x: start_x,\n      start_y: start_y,\n      end_x: end_x,\n      end_y: end_y\n    });\n  }\n  async handleMouseUp(event) {\n    if (!this.state.adding_new_meeting || this.state.block_adding_new_meetings || this.props.readonly) {\n      return;\n    }\n    let end_x;\n    let end_y;\n    if (this.props.is_horizontal) {\n      end_x = Math.round(Math.floor(event.clientX / this.state.stripe_width * 48) / 48 * this.state.stripe_width) - this.ref.current.getBoundingClientRect().x - 5;\n      end_y = this.state.stripe_height + event.target.offsetTop;\n    } else {\n      end_x = this.state.stripe_width + event.target.offsetLeft;\n      end_y = Math.round(Math.floor(event.clientY / this.state.stripe_height * 48) / 48 * this.state.stripe_height);\n    }\n    await this.setState({\n      adding_new_meeting: false,\n      end_x: end_x,\n      end_y: end_y\n    });\n    let start_time;\n    let end_time;\n    if (this.props.is_horizontal) {\n      start_time = Math.round(this.state.start_x / this.state.stripe_width * 48);\n      end_time = Math.round(this.state.end_x / this.state.stripe_width * 48);\n    } else {\n      start_time = Math.round(this.state.start_y / this.state.stripe_height * 48);\n      end_time = Math.round(this.state.end_y / this.state.stripe_height * 48);\n    }\n    let start_minutes = '00';\n    let end_minutes = '00';\n    if (start_time % 2 != 0) {\n      start_minutes = '30';\n      start_time = Math.round((start_time - 1) / 2);\n    } else {\n      start_time = Math.round(start_time / 2);\n    }\n    if (end_time % 2 != 0) {\n      end_minutes = '30';\n      end_time = Math.round((end_time - 1) / 2);\n    } else {\n      end_time = Math.round(end_time / 2);\n    }\n    if (start_time > 9) {\n      start_time = start_time.toString();\n    } else {\n      start_time = '0' + start_time.toString();\n    }\n    if (end_time > 9) {\n      end_time = end_time.toString();\n    } else {\n      end_time = '0' + end_time.toString();\n    }\n    if (start_time === end_time) {\n      return;\n    }\n    /* let data = this.state.data\n    data.meetings.push({\n        start: start_time + ':' + start_minutes,\n        end: end_time + ':' + end_minutes,\n        name: \"Встреча 2\",\n        description: \"Длинное описание встречи\",\n        participants: [\"Иван Иванов\", \"Пётр Петров\"]\n    })\n    let meetings_z_index = this.state.meetings_z_index\n    meetings_z_index.push(1 + meetings_z_index.length)\n     await this.setState({\n        data: data,\n        meetings_z_index: meetings_z_index,\n    }) */\n\n    let start_date = new Date(this.props.date + \"T\" + start_time + \":\" + start_minutes);\n    let end_date = new Date(this.props.date + \"T\" + end_time + \":\" + end_minutes);\n    start_date = start_date.toISOString().replace(/-|:|\\.\\d\\d\\d/g, \"\");\n    console.log(end_date);\n    end_date = end_date.toISOString().replace(/-|:|\\.\\d\\d\\d/g, \"\");\n    window.open('https://www.google.com/calendar/render?action=TEMPLATE&text=Встреча&dates=' + start_date + '/' + end_date, '_blank', 'noopener,noreferrer');\n  }\n  async handleMouseMove(event) {\n    if (!this.state.adding_new_meeting || this.state.block_adding_new_meetings || this.props.readonly) {\n      return;\n    }\n    let end_x;\n    let end_y;\n    if (this.props.is_horizontal) {\n      end_x = Math.round(Math.floor(event.clientX / this.state.stripe_width * 48) / 48 * this.state.stripe_width) - this.ref.current.getBoundingClientRect().x - 5;\n      end_y = this.state.stripe_height + event.target.offsetTop;\n    } else {\n      end_x = this.state.stripe_width + event.target.offsetLeft;\n      end_y = Math.round(Math.floor(event.clientY / this.state.stripe_height * 48) / 48 * this.state.stripe_height);\n    }\n    await this.setState({\n      end_x: end_x,\n      end_y: end_y\n    });\n  }\n  async handleMouseLeave(event) {\n    if (!this.state.adding_new_meeting || this.state.block_adding_new_meetings || this.props.readonly) {\n      return;\n    }\n    await this.setState({\n      adding_new_meeting: false\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rcs-stripe\",\n      ref: this.ref,\n      onMouseDown: this.handleMouseDown,\n      onMouseUp: this.handleMouseUp,\n      onMouseMove: this.handleMouseMove,\n      onMouseLeave: this.handleMouseLeave,\n      children: [this.renderSpacers(), this.renderMeetings(), this.renderNewMeeting()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Stripe;","map":{"version":3,"names":["React","Meeting","jsxDEV","_jsxDEV","Stripe","Component","constructor","props","colors","meetings_z_index","i","data","meetings","length","state","stripe_width","stripe_height","adding_new_meeting","block_adding_new_meetings","onClickCallback","bind","handleMouseDown","handleMouseUp","handleMouseMove","handleMouseLeave","ref","createRef","componentDidMount","setState","current","getBoundingClientRect","width","height","top","y","index","need_desc","new_mzi","prev","renderMeetings","result","forEach","meeting","push","id","z_index","color","is_horizontal","fileName","_jsxFileName","lineNumber","columnNumber","renderNewMeeting","end_x","start_x","end_y","start_y","style","left","toString","className","renderSpacers","delta","event","readonly","Math","round","floor","clientX","x","target","offsetTop","offsetLeft","clientY","start_time","end_time","start_minutes","end_minutes","start_date","Date","date","end_date","toISOString","replace","console","log","window","open","render","onMouseDown","onMouseUp","onMouseMove","onMouseLeave","children"],"sources":["/home/egor/outstaff-web/src/stripe.js"],"sourcesContent":["import React from 'react';\nimport Meeting from './meeting.js'\n\nimport './stripe.css'\n\n\nclass Stripe extends React.Component {\n    colors = ['#17ccf9', '#3dc5f7', '#53bdf5', '#73acf1', '#a185e9', '#be61af', '#d82354', '#d02867', '#c72d77', '#a94092']\n\n    constructor(props) {\n        super(props)\n        \n        let meetings_z_index = []\n        for (let i = 0; i < props.data.meetings.length; i++) {\n            meetings_z_index[i] = 1 + i\n        }\n\n        this.state = {\n            data: this.props.data,\n            meetings_z_index: meetings_z_index,\n            stripe_width: 1,\n            stripe_height: 1,\n            adding_new_meeting: false,\n            block_adding_new_meetings: false,\n        }\n\n        this.onClickCallback = this.onClickCallback.bind(this);\n        this.handleMouseDown = this.handleMouseDown.bind(this);\n        this.handleMouseUp = this.handleMouseUp.bind(this);\n        this.handleMouseMove = this.handleMouseMove.bind(this);\n        this.handleMouseLeave = this.handleMouseLeave.bind(this);\n        this.ref = React.createRef()\n    }\n\n    componentDidMount() {\n        this.setState({\n            stripe_width: this.ref.current.getBoundingClientRect().width,\n            stripe_height: this.ref.current.getBoundingClientRect().height,\n            top: this.ref.current.getBoundingClientRect().y,\n        })\n    }\n\n    onClickCallback(index, need_desc) {\n        if (need_desc) {\n            this.setState({block_adding_new_meetings: true})\n            let new_mzi = this.state.meetings_z_index\n            let prev = new_mzi[index]\n            for (let i = 0; i < new_mzi.length; i++) {\n                if (i === index) {\n                    new_mzi[i] = 1\n                    continue\n                }\n                if (new_mzi[i] < prev) {\n                    new_mzi[i]++\n                }\n            }\n            this.setState({\n                meetings_z_index: new_mzi,\n            })\n        } else {\n            this.setState({block_adding_new_meetings: false})\n        }\n    }\n\n    renderMeetings() {\n        let result = []\n        let index = 0\n        this.state.data.meetings.forEach(meeting => {\n            result.push(\n                <Meeting\n                    meeting={meeting}\n                    id={index}\n                    z_index={this.state.meetings_z_index[index]}\n                    color={this.colors[index % this.colors.length]}\n                    onClickCallback={this.onClickCallback}\n                    is_horizontal={this.props.is_horizontal}\n                    stripe_width={this.state.stripe_width}\n                    stripe_height={this.state.stripe_height}\n                    top={this.state.top}\n                ></Meeting>\n            )\n            index++\n        })\n        return result\n    }\n\n    renderNewMeeting() {\n        if (!this.state.adding_new_meeting) {\n            return (\n                <div></div>\n            )\n        }\n        let width = this.state.end_x - this.state.start_x\n        let height = this.state.end_y - this.state.start_y\n        let style = {\n            left: this.state.start_x.toString() + 'px',\n            top: this.state.start_y.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n        }\n        return (\n            <div\n                className='rcs-stripe-new-meeting'\n                style={style}\n            ></div>\n        )\n    }\n\n    renderSpacers() {\n        let result = []\n        let delta = this.state.stripe_width / 24;\n        if (!this.props.is_horizontal) {\n            delta = this.state.stripe_height / 24;\n        }\n        for (let i = 1; i < 24; i++) {\n            let width, height\n            if (this.props.is_horizontal) {\n                width = 2\n                height = this.state.stripe_height\n            } else {\n                width = this.state.stripe_width\n                height = 2\n            }\n            let style = {\n                width: width.toString() + 'px',\n                height: height.toString() + 'px',\n            }\n            if (this.props.is_horizontal) {\n                style.left = delta * i\n            } else {\n                style.top = this.state.top + delta * i\n            }\n            result.push(\n                <div\n                    className='rcs-stripe-spacer'\n                    style={style}\n                ></div>\n            )\n        }\n        return result\n    }\n\n    async handleMouseDown(event) {\n        if (this.state.block_adding_new_meetings || this.props.readonly) {\n            return;\n        }\n        let start_x;\n        let start_y;\n        let end_x;\n        let end_y;\n        if (this.props.is_horizontal) {\n            start_x = Math.round(Math.floor(event.clientX / this.state.stripe_width * 48) / 48 * this.state.stripe_width) - this.ref.current.getBoundingClientRect().x - 5\n            start_y = event.target.offsetTop\n            end_x = start_x\n            end_y = this.state.stripe_height + event.target.offsetTop\n        } else {\n            start_x = event.target.offsetLeft\n            start_y = Math.round(Math.floor(event.clientY / this.state.stripe_height * 48) / 48 * this.state.stripe_height)\n            end_x = this.state.stripe_width + event.target.offsetLeft\n            end_y = start_y\n        }\n        await this.setState({\n            adding_new_meeting: true,\n            start_x: start_x,\n            start_y: start_y,\n            end_x: end_x,\n            end_y: end_y,\n        })\n    }\n\n    async handleMouseUp(event) {\n        if (!this.state.adding_new_meeting || this.state.block_adding_new_meetings || this.props.readonly) {\n            return\n        }\n        let end_x;\n        let end_y;\n        if (this.props.is_horizontal) {\n            end_x = Math.round(Math.floor(event.clientX / this.state.stripe_width * 48) / 48 * this.state.stripe_width) - this.ref.current.getBoundingClientRect().x - 5\n            end_y = this.state.stripe_height + event.target.offsetTop\n        } else {\n            end_x = this.state.stripe_width + event.target.offsetLeft\n            end_y = Math.round(Math.floor(event.clientY / this.state.stripe_height * 48) / 48 * this.state.stripe_height)\n        }\n        await this.setState({\n            adding_new_meeting: false,\n            end_x: end_x,\n            end_y: end_y,\n        })\n        \n        let start_time;\n        let end_time;\n        if (this.props.is_horizontal) {\n            start_time = Math.round(this.state.start_x / this.state.stripe_width * 48)\n            end_time = Math.round(this.state.end_x / this.state.stripe_width * 48)\n        } else {\n            start_time = Math.round(this.state.start_y / this.state.stripe_height * 48)\n            end_time = Math.round(this.state.end_y / this.state.stripe_height * 48)\n        }\n        let start_minutes = '00'\n        let end_minutes = '00'\n        if (start_time % 2 != 0) {\n            start_minutes = '30'\n            start_time = Math.round((start_time - 1) / 2)\n        } else {\n            start_time = Math.round(start_time / 2)\n        }\n        if (end_time % 2 != 0) {\n            end_minutes = '30'\n            end_time = Math.round((end_time - 1) / 2)\n        } else {\n            end_time = Math.round(end_time / 2)\n        }\n        if (start_time > 9) {\n            start_time = start_time.toString()\n        } else {\n            start_time = '0' + start_time.toString()\n        }\n        if (end_time > 9) {\n            end_time = end_time.toString()\n        } else {\n            end_time = '0' + end_time.toString()\n        }\n        if (start_time === end_time) {\n            return\n        }\n        /* let data = this.state.data\n        data.meetings.push({\n            start: start_time + ':' + start_minutes,\n            end: end_time + ':' + end_minutes,\n            name: \"Встреча 2\",\n            description: \"Длинное описание встречи\",\n            participants: [\"Иван Иванов\", \"Пётр Петров\"]\n        })\n        let meetings_z_index = this.state.meetings_z_index\n        meetings_z_index.push(1 + meetings_z_index.length)\n\n        await this.setState({\n            data: data,\n            meetings_z_index: meetings_z_index,\n        }) */\n        \n        let start_date = new Date(this.props.date + \"T\" + start_time + \":\" + start_minutes);\n        let end_date = new Date(this.props.date + \"T\" + end_time + \":\" + end_minutes);\n        start_date = start_date.toISOString().replace(/-|:|\\.\\d\\d\\d/g, \"\");\n        console.log(end_date)\n        end_date = end_date.toISOString().replace(/-|:|\\.\\d\\d\\d/g, \"\");\n        window.open('https://www.google.com/calendar/render?action=TEMPLATE&text=Встреча&dates=' + start_date + '/' + end_date, '_blank', 'noopener,noreferrer');\n    }\n\n    async handleMouseMove(event) {\n        if (!this.state.adding_new_meeting || this.state.block_adding_new_meetings || this.props.readonly) {\n            return\n        }\n        let end_x;\n        let end_y;\n        if (this.props.is_horizontal) {\n            end_x = Math.round(Math.floor(event.clientX / this.state.stripe_width * 48) / 48 * this.state.stripe_width) - this.ref.current.getBoundingClientRect().x - 5\n            end_y = this.state.stripe_height + event.target.offsetTop\n        } else {\n            end_x = this.state.stripe_width + event.target.offsetLeft\n            end_y = Math.round(Math.floor(event.clientY / this.state.stripe_height * 48) / 48 * this.state.stripe_height)\n        }\n        await this.setState({\n            end_x: end_x,\n            end_y: end_y,\n        })\n    }\n\n    async handleMouseLeave(event) {\n        if (!this.state.adding_new_meeting || this.state.block_adding_new_meetings || this.props.readonly) {\n            return\n        }\n        await this.setState({ adding_new_meeting: false });\n    }\n\n    render() {\n        return (\n            <div className='rcs-stripe' ref={this.ref} onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp} onMouseMove={this.handleMouseMove} onMouseLeave={this.handleMouseLeave}>\n                {this.renderSpacers()}\n                {this.renderMeetings()}\n                {this.renderNewMeeting()}\n            </div>\n        )\n    }\n}\n\nexport default Stripe\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}