{"ast":null,"code":"var _jsxFileName = \"/home/egor/outstaff/web/src/stripe.js\";\nimport React from 'react';\nimport Meeting from './meeting.js';\nimport './stripe.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Stripe extends React.Component {\n  constructor(props) {\n    super(props);\n    this.colors = ['#17ccf9', '#3dc5f7', '#53bdf5', '#73acf1', '#a185e9', '#be61af', '#d82354', '#d02867', '#c72d77', '#a94092'];\n    let meetings_z_index = [];\n    for (let i = 0; i < props.data.meetings.length; i++) {\n      meetings_z_index[i] = 1 + i;\n    }\n    this.state = {\n      meetings_z_index: meetings_z_index,\n      stripe_width: 1,\n      stripe_height: 1\n    };\n    this.onClickCallback = this.onClickCallback.bind(this);\n    this.ref = /*#__PURE__*/React.createRef();\n  }\n  componentDidMount() {\n    this.setState({\n      stripe_width: this.ref.current.offsetWidth,\n      stripe_height: this.ref.current.offsetHeight\n    });\n  }\n  onClickCallback(index) {\n    let new_mzi = this.state.meetings_z_index;\n    let prev = new_mzi[index];\n    for (let i = 0; i < new_mzi.length; i++) {\n      if (i === index) {\n        new_mzi[i] = 1;\n        continue;\n      }\n      if (new_mzi[i] < prev) {\n        new_mzi[i]++;\n      }\n    }\n    this.setState({\n      meetings_z_index: new_mzi\n    });\n  }\n  renderMeetings() {\n    let result = [];\n    let index = 0;\n    this.props.data.meetings.forEach(meeting => {\n      result.push( /*#__PURE__*/_jsxDEV(Meeting, {\n        meeting: meeting,\n        id: index,\n        z_index: this.state.meetings_z_index[index],\n        color: this.colors[index],\n        onClickCallback: this.onClickCallback,\n        is_horizontal: this.props.is_horizontal,\n        stripe_width: this.state.stripe_width,\n        stripe_height: this.state.stripe_height\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this));\n      index++;\n    });\n    return result;\n  }\n  renderSpacers() {\n    let result = [];\n    let delta = this.state.stripe_width / 24;\n    for (let i = 1; i < 24; i++) {\n      let width, height;\n      if (this.props.is_horizontal) {\n        width = 2;\n        height = this.state.stripe_height;\n      } else {\n        width = this.state.stripe_width;\n        height = 2;\n      }\n      let style = {\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n      if (this.props.is_horizontal) {\n        style.left = delta * i;\n      } else {\n        style.top = delta * i;\n      }\n      result.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rcs-stripe-spacer\",\n        style: style\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this));\n    }\n    return result;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rcs-stripe\",\n      ref: this.ref,\n      children: [this.renderSpacers(), this.renderMeetings()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Stripe;","map":{"version":3,"names":["React","Meeting","jsxDEV","_jsxDEV","Stripe","Component","constructor","props","colors","meetings_z_index","i","data","meetings","length","state","stripe_width","stripe_height","onClickCallback","bind","ref","createRef","componentDidMount","setState","current","offsetWidth","offsetHeight","index","new_mzi","prev","renderMeetings","result","forEach","meeting","push","id","z_index","color","is_horizontal","fileName","_jsxFileName","lineNumber","columnNumber","renderSpacers","delta","width","height","style","toString","left","top","className","render","children"],"sources":["/home/egor/outstaff/web/src/stripe.js"],"sourcesContent":["import React from 'react';\nimport Meeting from './meeting.js'\n\nimport './stripe.css'\n\n\nclass Stripe extends React.Component {\n    colors = ['#17ccf9', '#3dc5f7', '#53bdf5', '#73acf1', '#a185e9', '#be61af', '#d82354', '#d02867', '#c72d77', '#a94092']\n\n    constructor(props) {\n        super(props)\n        \n        let meetings_z_index = []\n        for (let i = 0; i < props.data.meetings.length; i++) {\n            meetings_z_index[i] = 1 + i\n        }\n\n        this.state = {\n            meetings_z_index: meetings_z_index,\n            stripe_width: 1,\n            stripe_height: 1,\n        }\n\n        this.onClickCallback = this.onClickCallback.bind(this);\n        this.ref = React.createRef()\n    }\n\n    componentDidMount() {\n        this.setState({\n            stripe_width: this.ref.current.offsetWidth,\n            stripe_height: this.ref.current.offsetHeight,\n        })\n      }\n\n    onClickCallback(index) {\n        let new_mzi = this.state.meetings_z_index\n        let prev = new_mzi[index]\n        for (let i = 0; i < new_mzi.length; i++) {\n            if (i === index) {\n                new_mzi[i] = 1\n                continue\n            }\n            if (new_mzi[i] < prev) {\n                new_mzi[i]++\n            }\n        }\n        this.setState({\n            meetings_z_index: new_mzi,\n        })\n    }\n\n    renderMeetings() {\n        let result = []\n        let index = 0\n        this.props.data.meetings.forEach(meeting => {\n            result.push(\n                <Meeting\n                    meeting={meeting}\n                    id={index}\n                    z_index={this.state.meetings_z_index[index]}\n                    color={this.colors[index]}\n                    onClickCallback={this.onClickCallback}\n                    is_horizontal={this.props.is_horizontal}\n                    stripe_width={this.state.stripe_width}\n                    stripe_height={this.state.stripe_height}\n                ></Meeting>\n            )\n            index++\n        })\n        return result\n    }\n\n    renderSpacers() {\n        let result = []\n        let delta = this.state.stripe_width / 24;\n        for (let i = 1; i < 24; i++) {\n            let width, height\n            if (this.props.is_horizontal) {\n                width = 2\n                height = this.state.stripe_height\n            } else {\n                width = this.state.stripe_width\n                height = 2\n            }\n            let style = {\n                width: width.toString() + 'px',\n                height: height.toString() + 'px',\n            }\n            if (this.props.is_horizontal) {\n                style.left = delta * i\n            } else {\n                style.top = delta * i\n            }\n            result.push(\n                <div\n                    className='rcs-stripe-spacer'\n                    style={style}\n                ></div>\n            )\n        }\n        return result\n    }\n\n    render() {\n        return (\n            <div className='rcs-stripe' ref={this.ref}>\n                {this.renderSpacers()}\n                {this.renderMeetings()}\n            </div>\n        )\n    }\n}\n\nexport default Stripe\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,cAAc;AAElC,OAAO,cAAc;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGrB,MAAMC,MAAM,SAASJ,KAAK,CAACK,SAAS,CAAC;EAGjCC,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IAAA,KAHhBC,MAAM,GAAG,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;IAKnH,IAAIC,gBAAgB,GAAG,EAAE;IACzB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,KAAK,CAACI,IAAI,CAACC,QAAQ,CAACC,MAAM,EAAEH,CAAC,EAAE,EAAE;MACjDD,gBAAgB,CAACC,CAAC,CAAC,GAAG,CAAC,GAAGA,CAAC;IAC/B;IAEA,IAAI,CAACI,KAAK,GAAG;MACTL,gBAAgB,EAAEA,gBAAgB;MAClCM,YAAY,EAAE,CAAC;MACfC,aAAa,EAAE;IACnB,CAAC;IAED,IAAI,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAACC,GAAG,gBAAGnB,KAAK,CAACoB,SAAS,CAAC,CAAC;EAChC;EAEAC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACC,QAAQ,CAAC;MACVP,YAAY,EAAE,IAAI,CAACI,GAAG,CAACI,OAAO,CAACC,WAAW;MAC1CR,aAAa,EAAE,IAAI,CAACG,GAAG,CAACI,OAAO,CAACE;IACpC,CAAC,CAAC;EACJ;EAEFR,eAAeA,CAACS,KAAK,EAAE;IACnB,IAAIC,OAAO,GAAG,IAAI,CAACb,KAAK,CAACL,gBAAgB;IACzC,IAAImB,IAAI,GAAGD,OAAO,CAACD,KAAK,CAAC;IACzB,KAAK,IAAIhB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiB,OAAO,CAACd,MAAM,EAAEH,CAAC,EAAE,EAAE;MACrC,IAAIA,CAAC,KAAKgB,KAAK,EAAE;QACbC,OAAO,CAACjB,CAAC,CAAC,GAAG,CAAC;QACd;MACJ;MACA,IAAIiB,OAAO,CAACjB,CAAC,CAAC,GAAGkB,IAAI,EAAE;QACnBD,OAAO,CAACjB,CAAC,CAAC,EAAE;MAChB;IACJ;IACA,IAAI,CAACY,QAAQ,CAAC;MACVb,gBAAgB,EAAEkB;IACtB,CAAC,CAAC;EACN;EAEAE,cAAcA,CAAA,EAAG;IACb,IAAIC,MAAM,GAAG,EAAE;IACf,IAAIJ,KAAK,GAAG,CAAC;IACb,IAAI,CAACnB,KAAK,CAACI,IAAI,CAACC,QAAQ,CAACmB,OAAO,CAACC,OAAO,IAAI;MACxCF,MAAM,CAACG,IAAI,eACP9B,OAAA,CAACF,OAAO;QACJ+B,OAAO,EAAEA,OAAQ;QACjBE,EAAE,EAAER,KAAM;QACVS,OAAO,EAAE,IAAI,CAACrB,KAAK,CAACL,gBAAgB,CAACiB,KAAK,CAAE;QAC5CU,KAAK,EAAE,IAAI,CAAC5B,MAAM,CAACkB,KAAK,CAAE;QAC1BT,eAAe,EAAE,IAAI,CAACA,eAAgB;QACtCoB,aAAa,EAAE,IAAI,CAAC9B,KAAK,CAAC8B,aAAc;QACxCtB,YAAY,EAAE,IAAI,CAACD,KAAK,CAACC,YAAa;QACtCC,aAAa,EAAE,IAAI,CAACF,KAAK,CAACE;MAAc;QAAAsB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC,CACd,CAAC;MACDf,KAAK,EAAE;IACX,CAAC,CAAC;IACF,OAAOI,MAAM;EACjB;EAEAY,aAAaA,CAAA,EAAG;IACZ,IAAIZ,MAAM,GAAG,EAAE;IACf,IAAIa,KAAK,GAAG,IAAI,CAAC7B,KAAK,CAACC,YAAY,GAAG,EAAE;IACxC,KAAK,IAAIL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;MACzB,IAAIkC,KAAK,EAAEC,MAAM;MACjB,IAAI,IAAI,CAACtC,KAAK,CAAC8B,aAAa,EAAE;QAC1BO,KAAK,GAAG,CAAC;QACTC,MAAM,GAAG,IAAI,CAAC/B,KAAK,CAACE,aAAa;MACrC,CAAC,MAAM;QACH4B,KAAK,GAAG,IAAI,CAAC9B,KAAK,CAACC,YAAY;QAC/B8B,MAAM,GAAG,CAAC;MACd;MACA,IAAIC,KAAK,GAAG;QACRF,KAAK,EAAEA,KAAK,CAACG,QAAQ,CAAC,CAAC,GAAG,IAAI;QAC9BF,MAAM,EAAEA,MAAM,CAACE,QAAQ,CAAC,CAAC,GAAG;MAChC,CAAC;MACD,IAAI,IAAI,CAACxC,KAAK,CAAC8B,aAAa,EAAE;QAC1BS,KAAK,CAACE,IAAI,GAAGL,KAAK,GAAGjC,CAAC;MAC1B,CAAC,MAAM;QACHoC,KAAK,CAACG,GAAG,GAAGN,KAAK,GAAGjC,CAAC;MACzB;MACAoB,MAAM,CAACG,IAAI,eACP9B,OAAA;QACI+C,SAAS,EAAC,mBAAmB;QAC7BJ,KAAK,EAAEA;MAAM;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACX,CACV,CAAC;IACL;IACA,OAAOX,MAAM;EACjB;EAEAqB,MAAMA,CAAA,EAAG;IACL,oBACIhD,OAAA;MAAK+C,SAAS,EAAC,YAAY;MAAC/B,GAAG,EAAE,IAAI,CAACA,GAAI;MAAAiC,QAAA,GACrC,IAAI,CAACV,aAAa,CAAC,CAAC,EACpB,IAAI,CAACb,cAAc,CAAC,CAAC;IAAA;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC;EAEd;AACJ;AAEA,eAAerC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}