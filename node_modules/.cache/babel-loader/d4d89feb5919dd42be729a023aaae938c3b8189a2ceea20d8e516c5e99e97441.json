{"ast":null,"code":"import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals';\nimport { BaseInstrumentation, VERSION } from '@grafana/faro-core';\nexport class WebVitalsInstrumentation extends BaseInstrumentation {\n  constructor() {\n    super(...arguments);\n    this.name = '@grafana/faro-web-sdk:instrumentation-web-vitals';\n    this.version = VERSION;\n  }\n  initialize() {\n    this.logDebug('Initializing');\n    Object.entries(WebVitalsInstrumentation.mapping).forEach(([indicator, executor]) => {\n      executor(metric => {\n        this.api.pushMeasurement({\n          type: 'web-vitals',\n          values: {\n            [indicator]: metric.value\n          }\n        });\n      });\n    });\n  }\n}\nWebVitalsInstrumentation.mapping = {\n  cls: onCLS,\n  fcp: onFCP,\n  fid: onFID,\n  inp: onINP,\n  lcp: onLCP,\n  ttfb: onTTFB\n};","map":{"version":3,"names":["onCLS","onFCP","onFID","onINP","onLCP","onTTFB","BaseInstrumentation","VERSION","WebVitalsInstrumentation","constructor","name","version","initialize","logDebug","Object","entries","mapping","forEach","indicator","executor","metric","api","pushMeasurement","type","values","value","cls","fcp","fid","inp","lcp","ttfb"],"sources":["/home/egor/node_modules/@grafana/faro-web-sdk/src/instrumentations/webVitals/instrumentation.ts"],"sourcesContent":["import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals';\n\nimport { BaseInstrumentation, VERSION } from '@grafana/faro-core';\n\nexport class WebVitalsInstrumentation extends BaseInstrumentation {\n  readonly name = '@grafana/faro-web-sdk:instrumentation-web-vitals';\n  readonly version = VERSION;\n\n  static mapping = {\n    cls: onCLS,\n    fcp: onFCP,\n    fid: onFID,\n    inp: onINP,\n    lcp: onLCP,\n    ttfb: onTTFB,\n  };\n\n  initialize(): void {\n    this.logDebug('Initializing');\n\n    Object.entries(WebVitalsInstrumentation.mapping).forEach(([indicator, executor]) => {\n      executor((metric) => {\n        this.api.pushMeasurement({\n          type: 'web-vitals',\n\n          values: {\n            [indicator]: metric.value,\n          },\n        });\n      });\n    });\n  }\n}\n"],"mappings":"AAAA,SAASA,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,MAAM,QAAQ,YAAY;AAEtE,SAASC,mBAAmB,EAAEC,OAAO,QAAQ,oBAAoB;AAEjE,OAAM,MAAOC,wBAAyB,SAAQF,mBAAmB;EAAjEG,YAAA;;IACW,KAAAC,IAAI,GAAG,kDAAkD;IACzD,KAAAC,OAAO,GAAGJ,OAAO;EA0B5B;EAfEK,UAAUA,CAAA;IACR,IAAI,CAACC,QAAQ,CAAC,cAAc,CAAC;IAE7BC,MAAM,CAACC,OAAO,CAACP,wBAAwB,CAACQ,OAAO,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,SAAS,EAAEC,QAAQ,CAAC,KAAI;MACjFA,QAAQ,CAAEC,MAAM,IAAI;QAClB,IAAI,CAACC,GAAG,CAACC,eAAe,CAAC;UACvBC,IAAI,EAAE,YAAY;UAElBC,MAAM,EAAE;YACN,CAACN,SAAS,GAAGE,MAAM,CAACK;;SAEvB,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;AAvBOjB,wBAAA,CAAAQ,OAAO,GAAG;EACfU,GAAG,EAAE1B,KAAK;EACV2B,GAAG,EAAE1B,KAAK;EACV2B,GAAG,EAAE1B,KAAK;EACV2B,GAAG,EAAE1B,KAAK;EACV2B,GAAG,EAAE1B,KAAK;EACV2B,IAAI,EAAE1B;CACP"},"metadata":{},"sourceType":"module","externalDependencies":[]}